import{f as x,bt as N,bJ as S,bv as k,e as d,b3 as B,bc as s,b7 as t,ba as a,b2 as $,bb as n,b8 as m,b9 as _,bB as C,ao as I,bK as P,bw as U,bI as V}from"./index-54bb0693.js";import{l as K}from"./index-94c5101b.js";import{S as p}from"./index-250e29b6.js";import{b as T,l as j,d as z,a as c,N as b}from"./index-6089fc5d.js";import{N as A}from"./GradientText-db37ca03.js";import"./_plugin-vue_export-helper-c27b6911.js";const F={class:"login-container"},L={class:"mb-5 flex items-center justify-end"},M={class:"mr-2"},D={class:"min-w-[100px]"},E={class:"login-title"},G=n("div",{class:"flex justify-center text-slate-300"},[m(" Powered By "),n("a",{href:"https://github.com/hslr-s/sun-panel",target:"_blank",class:"ml-[5px] text-slate-500"},"Sun-Panel")],-1),X=x({__name:"index",setup(H){const f=N(),g=S(),h=k(),r=d(!1),i=d(g.language),o=d({username:"",password:""}),y=async()=>{r.value=!0;try{const e=await K(o.value);e.code===0?(f.setToken(e.data.token),f.setUserInfo(e.data),setTimeout(()=>{h.success(`Hi ${e.data.name},${U("login.welcomeMessage")}`),r.value=!1,V.push({path:"/"})},500)):r.value=!1}catch(e){r.value=!1,console.log(e)}};function v(){y()}function w(e){i.value=e,g.setLanguage(e)}return(e,l)=>($(),B("div",F,[s(a(P),{class:"login-card",style:{"border-radius":"20px"}},{default:t(()=>[n("div",L,[n("div",M,[s(a(p),{icon:"ion-language",style:{width:"20",height:"20"}})]),n("div",D,[s(a(T),{value:i.value,"onUpdate:value":l[0]||(l[0]=u=>i.value=u),size:"small",options:a(j),onUpdateValue:w},null,8,["value","options"])])]),n("div",E,[s(a(A),{size:30,type:"success",class:"!font-bold"},{default:t(()=>[m(_(e.$t("common.appName")),1)]),_:1})]),s(a(z),{model:o.value,"label-width":"100px",onKeydown:C(v,["enter"])},{default:t(()=>[s(a(c),null,{default:t(()=>[s(a(b),{value:o.value.username,"onUpdate:value":l[1]||(l[1]=u=>o.value.username=u),placeholder:e.$t("login.usernamePlaceholder")},{prefix:t(()=>[s(a(p),{icon:"ph:user-bold"})]),_:1},8,["value","placeholder"])]),_:1}),s(a(c),null,{default:t(()=>[s(a(b),{value:o.value.password,"onUpdate:value":l[2]||(l[2]=u=>o.value.password=u),type:"password",placeholder:e.$t("login.passwordPlaceholder")},{prefix:t(()=>[s(a(p),{icon:"mdi:password-outline"})]),_:1},8,["value","placeholder"])]),_:1}),s(a(c),{style:{"margin-top":"10px"}},{default:t(()=>[s(a(I),{type:"primary",block:"",loading:r.value,onClick:v},{default:t(()=>[m(_(e.$t("login.loginButton")),1)]),_:1},8,["loading"])]),_:1}),G]),_:1},8,["model","onKeydown"])]),_:1})]))}});export{X as default};
